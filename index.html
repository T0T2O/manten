<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>割合テスト対策</title>
    <style>
        body { font-family: sans-serif; text-align: center; background: #e3f2fd; }
        .box { background: white; max-width: 400px; margin: 20px auto; padding: 20px; border-radius: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        .btn { padding: 15px; width: 100%; background: #1e88e5; color: white; border: none; border-radius: 5px; font-size: 1.2rem; cursor: pointer; margin-top: 10px; }
        input { font-size: 1.5rem; width: 100px; padding: 5px; margin: 10px; border: 2px solid #1e88e5; border-radius: 5px; text-align: center; }
    </style>
</head>
<body>

<div class="box" id="disp">
    <h2>割合テスト対策編</h2>
    <p>テストにそっくりな問題が出るよ！</p>
    <button class="btn" onclick="start()">スタート！</button>
</div>

<script>
let score = 0; let count = 0; let q = {};

[span_2](start_span)// テストプリント[span_2](end_span) に合わせた問題リスト
function getQ() {
    const list = [
        [span_3](start_span){ t: "80kgをもとにした56kgの割合は？", a: 0.7, u: "" }, //[span_3](end_span)
        [span_4](start_span){ t: "20回中16回勝った。勝った割合は何％？", a: 80, u: "％" }, //[span_4](end_span)
        [span_5](start_span){ t: "120gの30％は何g？", a: 36, u: "g" }, //[span_5](end_span)
        [span_6](start_span){ t: "21人は15人の何％？", a: 140, u: "％" }, //[span_6](end_span)
        [span_7](start_span){ t: "18Lが90％にあたるとき、もとの体積は何L？", a: 20, u: "L" }, //[span_7](end_span)
        [span_8](start_span){ t: "定員40人の130％の希望者は何人？", a: 52, u: "人" }, //[span_8](end_span)
        [span_9](start_span){ t: "仕入れ値2500円に20％の利益をのせた売値は？", a: 3000, u: "円" }, //[span_9](end_span)
        [span_10](start_span){ t: "72ページ読んだ。これは全体の60％。全部で何ページ？", a: 120, u: "ページ" } //[span_10](end_span)
    ];
    return list[count % list.length];
}

function start() {
    score = 0; count = 0;
    next();
}

function next() {
    q = getQ();
    document.getElementById("disp").innerHTML = `
        <p>だい ${count + 1} 問 / 8問</p>
        <div style="font-size:1.2rem; margin:15px 0;"><b>${q.t}</b></div>
        <input type="number" id="ans" autofocus> ${q.u}<br>
        <button class="btn" onclick="check()">答え合わせ</button>
        <div id="res"></div>
    `;
}

function check() {
    const val = parseFloat(document.getElementById("ans").value);
    const res = document.getElementById("res");
    if (isNaN(val)) return;

    if (Math.abs(val - q.a) < 0.01) {
        res.innerHTML = "<h2 style='color:blue;'>せいかい！</h2>";
        score++;
    } else {
        res.innerHTML = `<h2 style='color:red;'>まちがい… (正解:${q.a})</h2>`;
    }
    
    count++;
    if (count < 8) {
        document.getElementById("disp").innerHTML += `<button class="btn" onclick="next()">つぎの問題</button>`;
    } else {
        document.getElementById("disp").innerHTML += `<button class="btn" onclick="end()">結果を見る</button>`;
    }
}

function end() {
    document.getElementById("disp").innerHTML = `
        <h2>しゅうりょう！</h2>
        <h1>${score} / 8 点</h1>
        <button class="btn" onclick="start()">もういちど</button>
    `;
}
</script>
</body>
</html>
